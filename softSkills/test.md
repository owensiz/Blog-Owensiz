# 自测和容错小结

## 页面方面
- 考虑极限情况，进行接口数据mock：不传或者传很多。
- 用padding撑起来的容器，需要防止容器塌陷吗？
- 空图片问题。需要传背景图或者默认图吗？
- 限制最长字数。文字很多时，需要换行吗还是省略号？
- 1rpx不可出现，会有渲染问题，解决方式之一为 2rpx + scale(0.5) 。
- 尽量采用偶数px，偶数渲染更好。
- 不同模块之间是否有互斥关系或者优先级。
- 数据为空时，布局错位。常见情况为保持原位置，还是间距撑开？
- 兼容性：浏览器，手机系统。
- 微信小程序，模拟器中如果有异常显示，优先用真机复查一遍。模拟器和真机间有可能具有很大差距。
- 需要加粗的场景，字重写成600，不要写500，否则安卓机上无表现。

## js逻辑
- 异步代码写好 try-catch。
- 对接口 res 进行类型判断和非空判断。
- 对数组对象进行长度判断，使用 arr&&arr.length>2 而不是 arr&&arr[2]。
- 使用字符串或者数组的特有方法时，注意对对象进行类型判断。
- 点击请求接口，设置防抖。
- 接口code异常处理。

## 流程
- 首次coding时，注意布局合理性。
- 一定要运行自测用例。
- DRY 原则(don’t repeat yourself) ：自己code review，抽出重复代码为一个函数。
- 后期修改代码时，注意尽量不要影响到其他代码。
    - 多次调整之后，注意重新审视整体布局，尤其是一些明显居中的部分有无移位。
    - 重新审查整体div的盒子宽高，作为一个初步快速检验方式。
    - 调整次数越多，最初的dom结构可能错乱，尾声时期进行合理重构和无用代码删减。

